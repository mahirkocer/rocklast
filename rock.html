<!DOCTYPE html>
<html>
  <head>
    <title>Rock-Paper-Scissors</title>
  </head>

  <body>
    
    <h4>Rock-Paper-Scissors</h4>

    <button onclick="
    result('rock');
    ">Rock</button>
    <button onclick="
    result('paper');
    ">Paper</button>
    <button onclick="
    result('scissors');
    ">Scissors</button>

    <p class="js-result"></p>

    <p class="js-score"></p>

    <button onclick="
    scoreTable ={
          wins : 0,
          loses :0,
          ties  :0
        };
        localStorage.removeItem('score');
    
    
    ">Reset Score</button>

    <script>

let scoreTable=JSON.parse(localStorage.getItem(('score')))||
      {
          wins : 0,
          loses :0,
          ties  :0
        };

      function pickComputerMove(){
          let computerMove ='';

          let random = Math.random();

          if(random>=0 && random<1/3){
            computerMove = 'rock'
          }else if(random>=1/3 && random<2/3){
            computerMove = 'paper';
          }else if(random>=2/3 && random<=1){
            computerMove= 'scissors';
          }
          
          return computerMove;
      }

     
      function result(selectedMove){

        let result= '';
        let computerMove =pickComputerMove();
        if(selectedMove==='paper'){
          if(computerMove==='paper'){
            result='Tie.'
          }else if(computerMove==='rock'){
            result='You win';
          }else if(computerMove==='scissors'){
            result='You lost';
          }


        }else if(selectedMove==='rock'){
          if(computerMove==='paper'){
            result='You lost'
          }else if(computerMove==='rock'){
            result='Tie.';
          }else if(computerMove==='scissors'){
            result='You win';
          }

       }else if(selectedMove==='scissors'){
          if(computerMove==='paper'){
            result='You win'
          }else if(computerMove==='rock'){
            result='You lost';
          }else if(computerMove==='scissors'){
            result='Tie.';
          }
      
        }

        if(result==='You win'){
          scoreTable.wins +=1
        }else if(result==='You lost'){
          scoreTable.loses +=1;
        }else{
           scoreTable.ties +=1;
        }

      updateScoreElement();
      resultLast();
        localStorage .setItem('score',JSON.stringify(scoreTable))

          function updateScoreElement(){
          document.querySelector('.js-score').innerHTML =`wins:${scoreTable.wins} loses: ${scoreTable.loses} ties: ${scoreTable.ties}`
        };
              

        function resultLast(){
        document.querySelector('.js-result').innerHTML =`${result} \n You ${selectedMove}-${computerMove} computer` 
              }
                
                }

    </script>
  </body>
</html>